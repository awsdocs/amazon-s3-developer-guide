# Server Access Log Format<a name="LogFormat"></a>

The server access log files consist of a sequence of new\-line delimited log records\. Each log record represents one request and consists of space delimited fields\. The following is an example log consisting of six log records\. 

```
1. 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:00:38 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be 3E57427F3EXAMPLE REST.GET.VERSIONING - "GET /mybucket?versioning HTTP/1.1" 200 - 113 - 7 - "-" "S3Console/0.4" -
2. 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:00:38 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be 891CE47D2EXAMPLE REST.GET.LOGGING_STATUS - "GET /mybucket?logging HTTP/1.1" 200 - 242 - 11 - "-" "S3Console/0.4" -
3. 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:00:38 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be A1206F460EXAMPLE REST.GET.BUCKETPOLICY - "GET /mybucket?policy HTTP/1.1" 404 NoSuchBucketPolicy 297 - 38 - "-" "S3Console/0.4" -
4. 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:01:00 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be 7B4A0FABBEXAMPLE REST.GET.VERSIONING - "GET /mybucket?versioning HTTP/1.1" 200 - 113 - 33 - "-" "S3Console/0.4" -
5. 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:01:57 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be DD6CC733AEXAMPLE REST.PUT.OBJECT s3-dg.pdf "PUT /mybucket/s3-dg.pdf HTTP/1.1" 200 - - 4406583 41754 28 "-" "S3Console/0.4" -
6. 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:03:21 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be BC3C074D0EXAMPLE REST.GET.VERSIONING - "GET /mybucket?versioning HTTP/1.1" 200 - 113 - 28 - "-" "S3Console/0.4" -
```

**Note**  
Any field can be set to `-` or `"-"` to indicate that the data was unknown or unavailable, or that the field was not applicable to this request\. 

The following list describes the log record fields\.

**Bucket Owner**  
The canonical user ID of the owner of the source bucket\.  
**Example Entry**  

```
79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be
```

**Bucket**  
The name of the bucket that the request was processed against\. If the system receives a malformed request and cannot determine the bucket, the request will not appear in any server access log\.  
**Example Entry**  

```
mybucket
```

**Time**  
The time at which the request was received\. The format, using `strftime()` terminology, is as follows: `[%d/%b/%Y:%H:%M:%S %z]`  
**Example Entry**  

```
[06/Feb/2014:00:00:38 +0000]
```

**Remote IP**  
The apparent Internet address of the requester\. Intermediate proxies and firewalls might obscure the actual address of the machine making the request\.  
**Example Entry**  

```
192.0.2.3
```

**Requester**  
The canonical user ID of the requester, or a `-` for unauthenticated requests\. If the requester was an IAM user, this field will return the requester's IAM user name along with the AWS root account that the IAM user belongs to\. This identifier is the same one used for access control purposes\.  
**Example Entry**  

```
79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be
```

**Request ID**  
The request ID is a string generated by Amazon S3 to uniquely identify each request\.  
**Example Entry**  

```
3E57427F33A59F07
```

**Operation**  
The operation listed here is declared as `SOAP.operation`, `REST.HTTP_method.resource_type`, `WEBSITE.HTTP_method.resource_type`, or `BATCH.DELETE.OBJECT`\.  
**Example Entry**  

```
REST.PUT.OBJECT
```

**Key**  
The "key" part of the request, URL encoded, or "\-" if the operation does not take a key parameter\.  
**Example Entry**  

```
/photos/2014/08/puppy.jpg
```

**Request\-URI**  
The Request\-URI part of the HTTP request message\.  
**Example Entry**  

```
"GET /mybucket/photos/2014/08/puppy.jpg?x-foo=bar HTTP/1.1"
```

**HTTP status**  
The numeric HTTP status code of the response\.  
**Example Entry**  

```
200
```

**Error Code**  
The Amazon S3 [Error Code](ErrorCode.md), or "\-" if no error occurred\.  
**Example Entry**  

```
NoSuchBucket
```

**Bytes Sent**  
The number of response bytes sent, excluding HTTP protocol overhead, or "\-" if zero\.  
**Example Entry**  

```
2662992
```

**Object Size**  
The total size of the object in question\.  
**Example Entry**  

```
3462992
```

**Total Time**  
The number of milliseconds the request was in flight from the server's perspective\. This value is measured from the time your request is received to the time that the last byte of the response is sent\. Measurements made from the client's perspective might be longer due to network latency\.  
**Example Entry**  

```
70
```

**Turn\-Around Time**  
The number of milliseconds that Amazon S3 spent processing your request\. This value is measured from the time the last byte of your request was received until the time the first byte of the response was sent\.  
**Example Entry**  

```
10
```

**Referrer**  
The value of the HTTP Referrer header, if present\. HTTP user\-agents \(e\.g\. browsers\) typically set this header to the URL of the linking or embedding page when making a request\.  
**Example Entry**  

```
"http://www.amazon.com/webservices"
```

**User\-Agent**  
The value of the HTTP User\-Agent header\.  
**Example Entry**  

```
"curl/7.15.1"
```

**Version Id**  
The version ID in the request, or "\-" if the operation does not take a `versionId` parameter\.  
**Example Entry**  

```
3HL4kqtJvjVBH40Nrjfkd
```

## Custom Access Log Information<a name="LogFormatCustom"></a>

You can include custom information to be stored in the access log record for a request by adding a custom query\-string parameter to the URL for the request\. Amazon S3 will ignore query\-string parameters that begin with "x\-", but will include those parameters in the access log record for the request, as part of the `Request-URI` field of the log record\. For example, a `GET` request for "s3\.amazonaws\.com/mybucket/photos/2014/08/puppy\.jpg?x\-user=johndoe" will work the same as the same request for "s3\.amazonaws\.com/mybucket/photos/2014/08/puppy\.jpg", except that the "x\-user=johndoe" string will be included in the `Request-URI` field for the associated log record\. This functionality is available in the REST interface only\.

## Programming Considerations for Extensible Server Access Log Format<a name="LogFormatExtensible"></a>

From time to time, we might extend the access log record format by adding new fields to the end of each line\. Code that parses server access logs must be written to handle trailing fields that it does not understand\. 

## Additional Logging for Copy Operations<a name="AdditionalLoggingforCopyOperations"></a>

A copy operation involves a `GET` and a `PUT`\. For that reason, we log two records when performing a copy operation\. The previous table describes the fields related to the `PUT` part of the operation\. The following list describes the fields in the record that relate to the `GET` part of the copy operation\.

**Bucket Owner**  
The canonical user ID of the bucket that stores the object being copied\.  
**Example Entry**  

```
79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be
```

**Bucket**  
The name of the bucket that stores the object being copied\.  
**Example Entry**  

```
mybucket
```

**Time**  
The time at which the request was received\. The format, using `strftime()` terminology, is as follows: `[%d/%B/%Y:%H:%M:%S %z]`  
**Example Entry**  

```
[06/Feb/2014:00:00:38 +0000]
```

**Remote IP**  
The apparent Internet address of the requester\. Intermediate proxies and firewalls might obscure the actual address of the machine making the request\.  
**Example Entry**  

```
192.0.2.3
```

**Requester**  
The canonical user ID of the requester, or a `-` for unauthenticated requests\. If the requester was an IAM user, this field will return the requester's IAM user name along with the AWS root account that the IAM user belongs to\. This identifier is the same one used for access control purposes\.  
**Example Entry**  

```
79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be
```

**Request ID**  
The request ID is a string generated by Amazon S3 to uniquely identify each request\.  
**Example Entry**  

```
3E57427F33A59F07
```

**Operation**  
The operation listed here is declared as `SOAP.operation`, `REST.HTTP_method.resource_type`, `WEBSITE.HTTP_method.resource_type`, or `BATCH.DELETE.OBJECT`\.  
**Example Entry**  

```
REST.COPY.OBJECT_GET
```

**Key**  
The "key" of the object being copied or "\-" if the operation does not take a key parameter\.   
**Example Entry**  

```
/photos/2014/08/puppy.jpg
```

**Request\-URI**  
The Request\-URI part of the HTTP request message\.  
**Example Entry**  

```
"GET /mybucket/photos/2014/08/puppy.jpg?x-foo=bar"
```

**HTTP status**  
The numeric HTTP status code of the `GET` portion of the copy operation\.  
**Example Entry**  

```
200
```

**Error Code**  
The Amazon S3 [Error Code](ErrorCode.md), of the `GET` portion of the copy operation or "\-" if no error occurred\.  
**Example Entry**  

```
NoSuchBucket
```

**Bytes Sent**  
The number of response bytes sent, excluding HTTP protocol overhead, or "\-" if zero\.  
**Example Entry**  

```
2662992
```

**Object Size**  
The total size of the object in question\.  
**Example Entry**  

```
3462992
```

**Total Time**  
The number of milliseconds the request was in flight from the server's perspective\. This value is measured from the time your request is received to the time that the last byte of the response is sent\. Measurements made from the client's perspective might be longer due to network latency\.  
**Example Entry**  

```
70
```

**Turn\-Around Time**  
The number of milliseconds that Amazon S3 spent processing your request\. This value is measured from the time the last byte of your request was received until the time the first byte of the response was sent\.  
**Example Entry**  

```
10
```

**Referrer**  
The value of the HTTP Referrer header, if present\. HTTP user\-agents \(e\.g\. browsers\) typically set this header to the URL of the linking or embedding page when making a request\.  
**Example Entry**  

```
"http://www.amazon.com/webservices"
```

**User\-Agent**  
The value of the HTTP User\-Agent header\.  
**Example Entry**  

```
"curl/7.15.1"
```

**Version Id**  
The version ID of the object being copied or "\-" if the x\-amz\-copy\-source header didn’t specify a `versionId` parameter as part of the copy source\.  
**Example Entry**  

```
3HL4kqtJvjVBH40Nrjfkd
```