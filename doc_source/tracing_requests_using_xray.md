# Tracing Amazon S3 requests using AWS X\-Ray<a name="tracing_requests_using_xray"></a>

AWS X\-Ray collects data about requests that your application serves\. You can then view and filter the data to identify and troubleshoot performance issues and errors in your distributed applications and micro\-services architecture\. For any traced request to your application, it shows you detailed information about the request, the response, and the calls that your application makes to downstream AWS resources, micro\-services, databases, and HTTP web APIs\. 

For more information, see [What is AWS X\-Ray?](https://docs.aws.amazon.com/xray/latest/devguide/aws-xray.html) in the *AWS X\-Ray Developer Guide*\.

**Topics**
+ [How X\-Ray works with Amazon S3](#tracing_requests_using_xray-s3)
+ [Available Regions](#tracing_requests_using_xray-regions)

## How X\-Ray works with Amazon S3<a name="tracing_requests_using_xray-s3"></a>

AWS X\-Ray supports trace context propagation for Amazon S3, so you can view end\-to\-end requests as they travel through your entire application\. X\-Ray aggregates the data that is generated by the individual services such as Amazon S3, AWS Lambda, and Amazon EC2, and the many resources that make up your application\. It provides you with an overall view of how your application is performing\. 

Amazon S3 integrates with X\-Ray to get one request chain integrates with X\-Ray to propagate [ trace context](https://www.w3.org/TR/trace-context/#:~:text=Trace%20context%20is%20split%20into,design%20focuses%20on%20fast%20parsing) and give you one request chain with [upstream and downstream](https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html) nodes\. If an upstream service includes a valid\-formatted trace header with its S3 request, Amazon S3 passes the trace header when delivering event notifications to downstream services such as Lambda, Amazon SQS, and Amazon SNS\. If you have all these services actively integrated with X\-Ray, they are linked in one request chain to give you the complete details of your Amazon S3 requests\.

To send X\-Ray trace headers through Amazon S3, you must include a [formatted X\-Amzn\-Trace\-Id](https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-tracingheader) in your requests\. You can also instrument the Amazon S3 client using the AWS X\-Ray SDKs\. For a list of the supported SDKs, see the [AWS X\-Ray documentation](https://docs.aws.amazon.com/xray/index.html)\.

### Service maps<a name="tracing_requests_using_xray-s3-maps"></a>

X\-Ray *service maps* show you the relationships between Amazon S3 and other AWS services and resources in your application in near\-real time\. To see the end\-to\-end requests using the X\-Ray service maps, you can use the X\-Ray console to view a map of the connections between Amazon S3 and other services that your application uses\. You can easily detect where high latency is occurring, visualize node distribution for these services, and then drill down into the specific services and paths impacting application performance\. 

### X\-Ray Analytics<a name="tracing_requests_using_xray-s3-analytics"></a>

You can also use the [ X\-Ray Analytics](https://docs.aws.amazon.com/xray/latest/devguide/xray-console-analytics.html) console to analyze traces, view metrics such as latency and failure rates, and [generate insights](https://docs.aws.amazon.com/xray/latest/devguide/xray-console-insights.html) to help you identify and troubleshoot issues\. This console also shows you metrics such as average latency and failure rates\. For more information, see [AWS X\-Ray console](https://docs.aws.amazon.com/xray/latest/devguide/xray-console.html) in the *AWS X\-Ray Developer Guide*\.

## Available Regions<a name="tracing_requests_using_xray-regions"></a>

AWS X\-Ray support for Amazon S3 is available in all [ AWS X\-Ray Regions](http://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/)\. For more information, see [Amazon S3 and AWS X\-Ray](https://docs.aws.amazon.com/xray/latest/devguide/xray-services-s3.html) in the *AWS X\-Ray Developer Guide*\.